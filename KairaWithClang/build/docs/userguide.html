<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.6">
<title>Kaira User Guide</title>
<style type="text/css">
/*
 * AsciiDoc 'volnitsky' theme for xhtml11 and html5 backends.
 * Based on css from http://volnitsky.com, which was in turn based on default
 * theme from AsciiDoc
 *
 * FIXME: The styling is still a bit rough in places.
 *
 */

/* Default font. */
body {
  font-family: Georgia,"Times New Roman",Times,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Candara,Arial,sans-serif;
}


#toc a {
    border-bottom: 1px dotted #999999;
    color: #3A3A4D !important;
    text-decoration: none !important;
}
#toc a:hover {
    border-bottom: 1px solid #6D4100;
    color: #6D4100 !important;
    text-decoration: none !important;
}
a { color: #666688; text-decoration: none; border-bottom: 1px dotted #666688; }
a:visited { color: #615FA0; border-bottom: 1px dotted #615FA0; }
a:hover { color: #6D4100; border-bottom: 1px solid #6D4100; }

em {
  font-style: italic;
  color: #444466;
}

strong {
  font-weight: bold;
  color: #444466;
}

h1, h2, h3, h4, h5, h6 {
  color: #666688;
  margin-bottom: 0.5em;
  line-height: 1.3;
  letter-spacing:+0.15em;
}

h1, h2, h3 { border-bottom: 2px solid #ccd; }
h2 { padding-top: 0.5em; }
h3 { float: left; }
h3 + * { clear: left; }

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid #444466;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #444466;
  font-weight: bold;
  font-size: 1.1em;
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}

#footer-text {
  float: left;
  padding-bottom: 0.5em;
}

#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #444466;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.verseblock > pre.content {
  font-family: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #444466;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: #444466;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #444466;
}
thead {
  font-weight: bold;
  color: #444466;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: #444466;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

@media print {
  #footer-badges { display: none; }
}

#toctitle {
  color: #666688;
  font-size: 1.2em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 { margin-top: 0; margin-bottom: 0; }
div.toclevel1 { margin-top: 0.3em; margin-left: 0; font-size: 1.0em; }
div.toclevel2 { margin-top: 0.25em; margin-left: 2em; font-size: 0.9em; }
div.toclevel3 { margin-left: 4em; font-size: 0.8em; }
div.toclevel4 { margin-left: 6em; font-size: 0.8em; }

body {
  margin: 1em 5%;
  max-width:  55em;
  padding-left: 0;

}

.monospaced, tt, div.listingblock > div.content {
  font-family:  Consolas, "Andale Mono", "Courier New", monospace;
  color: #004400;
  background: #f4f4f4;
  max-width: 80em;
  line-height: 1.2em;
}

.paragraph p  {
  line-height: 1.5em;
  margin-top: 1em;
}

.paragraph p, li, dd, .content { max-width: 45em; }
.admonitionblock               { max-width: 35em; }

div.sectionbody div.ulist > ul > li {
  list-style-type: square;
  color: #aaa;
}
  div.sectionbody div.ulist >  ul > li > * {
    color: black;
    /*font-size: 50%;*/
  }


div.sectionbody div.ulist > ul > li div.ulist > ul > li {
  color: #ccd ;
}
  div.sectionbody div.ulist > ul > li div.ulist > ul > li > * {
    color: black ;
  }

em {
  font-style: normal ! important;
  font-weight: bold ! important;
  color: #662222   ! important;
  letter-spacing:+0.08em ! important;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #666688;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #444466;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #444466;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Kaira User Guide</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Kaira is as an open-source development environment for MPI (Message Passing
Interface) applications. We try to provide an unified environment for
activities for development: prototyping, programming, testing, debugging,
profiling, performance prediction and verification.</p></div>
<div class="paragraph"><p>The main idea is to use visual models inspired by Coloured Petri Nets.
This model is designed to catch parallel aspects and communication inside of
the developed application. We do not want to program applications completely
in a visual way, so our models can be enriched by any sequential C++ code.
With such model, a user can generate MPI applications, run simulations
or start a state-space analysis.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Prerequisites</div>
<div class="paragraph"><p>In this text, we assume that the reader is familiar with C++ and basic use
of Linux.</p></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_instructions_for_debian_based_distributions">Instructions for Debian based distributions</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Full installation - Instructions for Debian based distributions</div>
<div class="paragraph"><p>These steps describe how to install the <strong>full</strong> version of Kaira.
How to disable some of subsystems is described below.</p></div>
<div class="ulist"><ul>
<li>
<p>
Installation of necessary packages
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install python-gtksourceview2 python-pyparsing g++ python-matplotlib</pre>
</div></div>
</li>
<li>
<p>
Installation of MPI implementation
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install mpich2</pre>
</div></div>
</li>
<li>
<p>
Libraries for verification subsystem
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install sparsehash libmhash-dev</pre>
</div></div>
</li>
<li>
<p>
Octave
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install liboctave-dev</pre>
</div></div>
</li>
<li>
<p>
Documentation
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install asciidoc source-highlight</pre>
</div></div>
</li>
<li>
<p>
Configure Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf configure</pre>
</div></div>
</li>
<li>
<p>
Build Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf</pre>
</div></div>
</li>
<li>
<p>
Start Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./start.sh</pre>
</div></div>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Minimal installation - Instructions for Debian based distributions</div>
<div class="paragraph"><p>These steps describe how to install the a <strong>minimal</strong> version of Kaira,
where some features are disabled.</p></div>
<div class="ulist"><ul>
<li>
<p>
Installation of necessary packages
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ apt-get install python-gtksourceview2 python-pyparsing g++ python-matplotlib</pre>
</div></div>
</li>
<li>
<p>
Configure Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf configure --disable-octave --disable-verif --disable-doc</pre>
</div></div>
</li>
<li>
<p>
Build Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf</pre>
</div></div>
</li>
<li>
<p>
Start Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./start.sh</pre>
</div></div>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_instruction_for_arch">Instruction for Arch</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Full installation - Instructions for Arch based distributions</div>
<div class="paragraph"><p>These steps describe how to install the <strong>full</strong> version of Kaira.</p></div>
<div class="ulist"><ul>
<li>
<p>
Installation of necessary packages
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ pacman -S gcc python2 python2-virtualenv pygtk pygtksourceview2 \
  python2-pyparsing python2-matplotlib</pre>
</div></div>
</li>
<li>
<p>
Libraries for verification subsystem
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ pacman -S sparsehash mhash</pre>
</div></div>
</li>
<li>
<p>
Octave
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ pacman -S octave</pre>
</div></div>
</li>
<li>
<p>
Documentation
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ pacman -S asciidoc source-highlight</pre>
</div></div>
</li>
<li>
<p>
Installation of MPI implementation (available from AUR)
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ bash &lt;(curl aur.sh) -si sowing mpich</pre>
</div></div>
</li>
<li>
<p>
Set up Python 2 environment
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ virtualenv2 --system-site-packages venv
$ source venv/bin/activate</pre>
</div></div>
</li>
<li>
<p>
Configure Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf configure</pre>
</div></div>
</li>
<li>
<p>
Build Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./waf</pre>
</div></div>
</li>
<li>
<p>
Start Kaira
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ ./start.sh</pre>
</div></div>
</li>
<li>
<p>
To start Kaira next time in a clean shell session, you need to enter Python 2 environment first
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>$ source venv/bin/activate
$ ./start.sh</pre>
</div></div>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>The following text covers the installation process in more detail.</p></div>
</div>
<div class="sect2">
<h3 id="_dependencies">Dependencies</h3>
<div class="paragraph"><p>To run Kaira, you need the following software.</p></div>
<div class="ulist"><ul>
<li>
<p>
Linux
</p>
<div class="ulist"><ul>
<li>
<p>
In general, Kaira should run on any UNIX-like systems where the
     following programs and libraries are available, but it was tested
      only on Linux systems.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Python 2.6 or 2.7
</p>
</li>
<li>
<p>
PyGTK
</p>
</li>
<li>
<p>
PyGTK sourceview2
</p>
</li>
<li>
<p>
pyparsing
</p>
</li>
<li>
<p>
g++
</p>
</li>
<li>
<p>
matplotlib
</p>
</li>
</ul></div>
<div class="paragraph"><p>Optional dependencies:</p></div>
<div class="ulist"><ul>
<li>
<p>
MPI implementation (tested with: MPICH2, OpenMPI, LAM)
</p>
</li>
<li>
<p>
Octave
</p>
</li>
<li>
<p>
sparsehash
</p>
</li>
<li>
<p>
mhash
</p>
</li>
<li>
<p>
asciidoc
</p>
</li>
</ul></div>
<div class="paragraph"><p>MPI implementation is necessary if you want to build MPI applications.
Libraries <em>sparsehash</em> and <em>mhash</em> are used by the verification subsystem.
<em>asciidoc</em> is used to build HTML documentation.</p></div>
</div>
<div class="sect2">
<h3 id="_building">Building</h3>
<div class="paragraph"><p>The first step is to download Kaira distribution from <a href="http://verif.cs.vsb.cz">http://verif.cs.vsb.cz</a>
and unpack it. Kaira is built by building tool <em>waf</em>
(<a href="http://code.google.com/p/waf/">http://code.google.com/p/waf/</a>). This tool is distributed together with Kaira.
The most common scenario (with all dependancies installed) is the following:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>cd /path/to/kaira
./waf configure             # Configuration step
./waf                       # Building step</pre>
</div></div>
<div class="paragraph"><p>It&#8217;s all. To check that Kaira works, you can start it by</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>./start.sh</pre>
</div></div>
<div class="sect3">
<h4 id="_more_about_configuration">More about configuration</h4>
<div class="paragraph"><p>In the configuration step, additional parameters can be specified.
The basic ones are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>--disable-mpi</em>&#8201;&#8212;&#8201;Kaira is built without MPI support
</p>
</li>
<li>
<p>
<em>--disable-octave</em>&#8201;&#8212;&#8201;Building Octave modules are disabled
</p>
</li>
<li>
<p>
<em>--disable-verif</em>&#8201;&#8212;&#8201;Kaira is built without the verification support,
  i.e. libraries <em>sparsehash</em> and <em>libmhash</em> are not necessary
</p>
</li>
<li>
<p>
<em>--disable-doc</em>&#8201;&#8212;&#8201;Documentation is not generated
</p>
</li>
<li>
<p>
<em>--icc</em>&#8201;&#8212;&#8201;Intel&#8217;s C++ complier is used to build Kaira instead of GCC.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For example, when we want to build Kaira without the support of MPI
and without generating documentation:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>./waf configure --disable-mpi --disable-doc  # Configuration step
./waf                                        # Building step</pre>
</div></div>
<div class="paragraph"><p>The full list of parameters can be displayed by</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>./waf configure --help</pre>
</div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_binding_user_defined_types">Binding user-defined types</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section describes how can be user-defined types used in the visual
program. Each such type needs function <em>token_name</em> and optionally <em>pack</em> and
<em>unpack</em>. For standard types listed in Section <a href="#Types">Supported standard types</a>, all these functions are already defined, hence no
additional definition is needed to use them. In the following text, it is shown
how to define these functions for user-defined types.</p></div>
<div class="sect2">
<h3 id="_token_name">token_name</h3>
<div class="paragraph"><p>This function is to used to obtain a textual representation of a token that is
used during visual simulations. It is used only for informative puproses,
hence an arbitrary string can be returned without influence on an actual run of
the program.</p></div>
<div class="paragraph"><p>Let us assume that we want to use the following user-defined type in Kaira:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Point3D</span> <span style="color: #FF0000">{</span>
        <span style="color: #009900">double</span> x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> z<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>There are two ways how to define <em>token_name</em> for this type, <em>invasive</em> and
<em>non-invasive</em>. The former means just placing method <em>token_name</em> directly into
the class. For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Point3D</span> <span style="color: #FF0000">{</span>
        <span style="color: #009900">double</span> x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> z<span style="color: #990000">;</span>

        std<span style="color: #990000">::</span><span style="color: #008080">string</span> <span style="font-weight: bold"><span style="color: #000000">token_name</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">// 'const' is important here!</span></span>
                std<span style="color: #990000">::</span><span style="color: #008080">stringstream</span> s<span style="color: #990000">;</span>
                s <span style="color: #990000">&lt;&lt;</span> x <span style="color: #990000">&lt;&lt;</span> <span style="color: #FF0000">" "</span> <span style="color: #990000">&lt;&lt;</span> y <span style="color: #990000">&lt;&lt;</span> <span style="color: #FF0000">" "</span> <span style="color: #990000">&lt;&lt;</span> z<span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">str</span></span><span style="color: #990000">();</span>
        <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>In some cases, when we do not want or we cannot modifiy the original class;
therefore there is a non-invasive version of <em>token_name</em>; it can be defined
as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Point3D</span> <span style="color: #FF0000">{</span>
        <span style="color: #009900">double</span> x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> z<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">namespace</span></span> ca <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #000000">CA_TOKEN_NAME</span></span><span style="color: #990000">(</span>Point3D<span style="color: #990000">,</span> point<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                std<span style="color: #990000">::</span><span style="color: #008080">stringstream</span> s<span style="color: #990000">;</span>
                s <span style="color: #990000">&lt;&lt;</span> point<span style="color: #990000">.</span>x <span style="color: #990000">&lt;&lt;</span> <span style="color: #FF0000">" "</span> <span style="color: #990000">&lt;&lt;</span> point<span style="color: #990000">.</span>y <span style="color: #990000">&lt;&lt;</span> <span style="color: #FF0000">" "</span> <span style="color: #990000">&lt;&lt;</span> point<span style="color: #990000">.</span>z<span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">str</span></span><span style="color: #990000">();</span>
        <span style="color: #FF0000">}</span>

<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The first parameter of macro <em>CA_TOKEN_NAME</em> is the name of the type, the
second one is the name of the variable with a token in the function
body. Please note, that it is necessary to place this definition into
namespace <em>ca</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_pack_amp_unpack">pack &amp; unpack</h3>
<div class="paragraph"><p>If the user-defined type is used for tokens that is transferred between
processes, it is also necessary to define serialization functions called as
<em>pack</em> and <em>unpack</em>.</p></div>
<div class="paragraph"><p>Let us assume type <em>Point3D</em> from the previous example. It is a simple
structure of basic types, hence such structure can be simply copied. In such
cases, we can just mark the structure as <em>trivially packable</em> by the following
code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Point3D</span> <span style="color: #FF0000">{</span>
        <span style="color: #009900">double</span> x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> z<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">namespace</span></span> ca <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">// namespace 'ca' is important!</span></span>
        <span style="font-weight: bold"><span style="color: #000000">CA_TRIVIALLY_PACKABLE</span></span><span style="color: #990000">(</span>Point3D<span style="color: #990000">)</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>In case, the class is not trivially packable, we have to write <em>pack</em> and
<em>unpack</em> functions. Assume the following type:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
        std<span style="color: #990000">::</span><span style="color: #008080">string</span> name<span style="color: #990000">;</span>
        <span style="color: #009900">int</span> age<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Because of the usage of <em>std::string</em>, we cannot simply copy the data. There
are again <em>intrusive</em> and <em>non-intrusive</em> ways. The first example demonstrates
the former (<em>token_name</em> is now ommited):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
        std<span style="color: #990000">::</span><span style="color: #008080">string</span> name<span style="color: #990000">;</span>
        <span style="color: #009900">int</span> age<span style="color: #990000">;</span>

        <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">(</span>ca<span style="color: #990000">::</span><span style="color: #008080">Packer</span> <span style="color: #990000">&amp;</span>packer<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">// 'const' is important!</span></span>
                packer <span style="color: #990000">&lt;&lt;</span> name <span style="color: #990000">&lt;&lt;</span> age<span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>

        <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">unpack</span></span><span style="color: #990000">(</span>ca<span style="color: #990000">::</span><span style="color: #008080">Unacker</span> <span style="color: #990000">&amp;</span>unpacker<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                packer <span style="color: #990000">&gt;&gt;</span> name <span style="color: #990000">&gt;&gt;</span> age<span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>and the non-intrusive way with the same effect:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
        std<span style="color: #990000">::</span><span style="color: #008080">string</span> name<span style="color: #990000">;</span>
        <span style="color: #009900">int</span> age<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">namespace</span></span> ca <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">// namespace 'ca' is important</span></span>

        <span style="font-weight: bold"><span style="color: #000000">CA_PACK</span></span><span style="color: #990000">(</span>Person<span style="color: #990000">,</span> packer<span style="color: #990000">,</span> person<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                packer <span style="color: #990000">&lt;&lt;</span> person<span style="color: #990000">.</span>name <span style="color: #990000">&lt;&lt;</span> person<span style="color: #990000">.</span>age<span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>

        <span style="font-weight: bold"><span style="color: #000000">CA_UNPACK</span></span><span style="color: #990000">(</span>Person<span style="color: #990000">,</span> unpacker<span style="color: #990000">,</span> person<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                unpacker <span style="color: #990000">&gt;&gt;</span> person<span style="color: #990000">.</span>name <span style="color: #990000">&gt;&gt;</span> person<span style="color: #990000">.</span>age<span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="sect3">
<h4 id="_fixed_size">Fixed size</h4>
<div class="paragraph"><p>In some cases, we can have a C++ type that is not trivially copyable but it is
always packed with the same size. Assume the following example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Row</span> <span style="color: #FF0000">{</span>

        <span style="font-weight: bold"><span style="color: #0000FF">public</span></span><span style="color: #990000">:</span>
                <span style="font-weight: bold"><span style="color: #000000">Row</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
                        data <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #009900">double</span><span style="color: #990000">[</span>param<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SIZE</span></span><span style="color: #990000">()];</span>
                <span style="color: #FF0000">}</span>

                <span style="color: #990000">~</span><span style="font-weight: bold"><span style="color: #000000">Row</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
                        <span style="font-weight: bold"><span style="color: #0000FF">delete</span></span> <span style="color: #990000">[]</span> data<span style="color: #990000">;</span>
                <span style="color: #FF0000">}</span>

                <span style="font-style: italic"><span style="color: #9A1900">// ... skipped some other methods ...</span></span>
                <span style="font-style: italic"><span style="color: #9A1900">// ... at least copy constructor &amp; assign operator</span></span>

                <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">(</span>ca<span style="color: #990000">::</span><span style="color: #008080">Packer</span> <span style="color: #990000">&amp;</span>packer<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #FF0000">{</span>
                        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> param<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SIZE</span></span><span style="color: #990000">();</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
                                packer <span style="color: #990000">&lt;&lt;</span> data<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
                        <span style="color: #FF0000">}</span>
                <span style="color: #FF0000">}</span>

                <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">unpack</span></span><span style="color: #990000">(</span>ca<span style="color: #990000">::</span><span style="color: #008080">Unacker</span> <span style="color: #990000">&amp;</span>unpacker<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> param<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SIZE</span></span><span style="color: #990000">();</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
                                unpacker <span style="color: #990000">&gt;&gt;</span> data<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
                        <span style="color: #FF0000">}</span>
                <span style="color: #FF0000">}</span>

        <span style="font-weight: bold"><span style="color: #0000FF">private</span></span><span style="color: #990000">:</span>
                <span style="color: #009900">double</span> <span style="color: #990000">*</span>data<span style="color: #990000">;</span>

<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The size of packed data of this class is not constant, but for each run it is
a fixed number because it depends only on parameter <em>'SIZE</em>'. We can tell Kaira
this fact by following code.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">namespace</span></span> ca <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">// namespace 'ca' is important</span></span>
        <span style="font-weight: bold"><span style="color: #000000">CA_FIXED_SIZE</span></span><span style="color: #990000">(</span>Row<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                <span style="font-style: italic"><span style="color: #9A1900">// How much memory it needs to pack Row</span></span>
                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span><span style="color: #990000">)</span> <span style="color: #990000">*</span> param<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SIZE</span></span><span style="color: #990000">();</span>
        <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Create such code is not mandatory, but it allows Kaira to generate more
efficient code, especially in case of collective communication.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_public_c_api">Public C++ API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_namespace_ca">Namespace ca</h3>
<div class="sect3">
<h4 id="_class_ca_context">Class ca::Context</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
int process_id() 
</dt>
<dd>
<p>
returns rank of the process
</p>
</dd>
<dt class="hdlist1">
int process_count() 
</dt>
<dd>
<p>
returns number of processes
</p>
</dd>
<dt class="hdlist1">
void quit() 
</dt>
<dd>
<p>
terminates the program (or the function call when the project
               is built as a library)
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="_class_ca_tokenlist_lt_t_gt">Class ca::TokenList&lt;T&gt;</h4>
<div class="paragraph"><p>This class represents a list of tokens.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
void add(T value) 
</dt>
<dd>
<p>
creates new token and adds it into the list.
</p>
</dd>
<dt class="hdlist1">
void add_token(ca::Token&lt;T&gt; *token) 
</dt>
<dd>
<p>
adds a token into the list.
</p>
</dd>
<dt class="hdlist1">
void remove(ca::Token&lt;T&gt; *token) 
</dt>
<dd>
<p>
removes a token from the list.
</p>
</dd>
<dt class="hdlist1">
void clear() 
</dt>
<dd>
<p>
removes all tokens from the list and deletes them.
</p>
</dd>
<dt class="hdlist1">
Token&lt;T&gt;* last() 
</dt>
<dd>
<p>
returns the last token in the list.
</p>
</dd>
<dt class="hdlist1">
Token&lt;T&gt;* begin() 
</dt>
<dd>
<p>
returns the first token in the list.
</p>
</dd>
<dt class="hdlist1">
size_t size() const 
</dt>
<dd>
<p>
returns number of tokens in the list.
</p>
</dd>
<dt class="hdlist1">
bool is_empty() const 
</dt>
<dd>
<p>
returns true if the list is empty.
</p>
</dd>
<dt class="hdlist1">
void overtake(TokenList&lt;T&gt; &amp;list) 
</dt>
<dd>
<p>
takes all tokens from list in an efficient way.
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="_class_ca_clock">Class ca::Clock</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
void tick() 
</dt>
<dd>
<p>
see <strong>tock()</strong>
</p>
</dd>
<dt class="hdlist1">
ca::IntTime tock() 
</dt>
<dd>
<p>
returns the number of nanoseconds from last call of <strong>tick()</strong>.
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="_functions">Functions</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
ca::token_name(T &amp;value) 
</dt>
<dd>
<p>
returns text representation of token value of type T for
                            the visual simulation.
                            This function is predefined for types listed in
                            Section <a href="#Types">Supported standard types</a>.
</p>
</dd>
<dt class="hdlist1">
ca::pack(ca::Packer &amp;packer, const T &amp;value) 
</dt>
<dd>
<p>
serializes type T.
                            This function is predefined for types listed in
                            Section <a href="#Types">Supported standard types</a>.
</p>
</dd>
<dt class="hdlist1">
template&lt;&gt; T ca::unpack(ca::Unpacker &amp;unpacker) 
</dt>
<dd>
<p>
deserializes type T.
                            This function is predefined for types listed in
                            Section <a href="#Types">Supported standard types</a>.
</p>
</dd>
<dt class="hdlist1">
ca::direct_pack(ca::Packer &amp;packer, const T &amp;value) 
</dt>
<dd>
<p>
    Serialization for trivially copyable types
</p>
</dd>
<dt class="hdlist1">
ca::direct_unpack(ca::Unpacker &amp;unpacker) 
</dt>
<dd>
<p>
    Deserialization for trivially copyable types
</p>
</dd>
<dt class="hdlist1">
std::vector&lt;int&gt; ca::range(int from, int upto) 
</dt>
<dd>
<p>
    returns vector of integeres in range [from, upto)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect2">
<h3 id="_namespace_casr">Namespace casr</h3>
<div class="sect3">
<h4 id="_class_casr_context">Class casr::Context</h4>
<div class="paragraph"><p>Inherits from <strong>ca::Context</strong></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
ca::IntTime time() 
</dt>
<dd>
<p>
    returns current time from start of the simulation in nanoseconds
</p>
</dd>
<dt class="hdlist1">
int ca::get_packets_count(int process_id1, int process_id2) 
</dt>
<dd>
<p>
    returns the number of packets sent from process_id1 to process_id2
    that are currenlty on the way (that was not received).
</p>
</dd>
<dt class="hdlist1">
int ca::get_data_size(int process_id1, int process_id2) 
</dt>
<dd>
<p>
    returns the total size of packets sent from process_id1 to process_id2
    that are currently on the way.
</p>
</dd>
<dt class="hdlist1">
std::deque&lt;casr::Packet&gt; ca::get_data_size(int process_id1, int process_id2) 
</dt>
<dd>
<p>
    returns the qeueu with packets sent from process_id1 to process_id2
    that are currently on the way.
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="_struct_casr_packet">Struct casr::Packet</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
ca::IntTime start_time 
</dt>
<dd>
<p>
when was the packet sent
</p>
</dd>
<dt class="hdlist1">
ca::IntTime release_time 
</dt>
<dd>
<p>
the earliest time when the packet can be received
</p>
</dd>
<dt class="hdlist1">
int from_process 
</dt>
<dd>
<p>
process id of the sender
</p>
</dd>
<dt class="hdlist1">
size_t size 
</dt>
<dd>
<p>
size of the packet
</p>
</dd>
<dt class="hdlist1">
void *data 
</dt>
<dd>
<p>
data of the packet
</p>
</dd>
</dl></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Types">Supported standard types</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following types are natively supported by Kaira, so the user does not have
to write own <em>token_name</em>, <em>pack</em> and <em>unpack</em> functions.</p></div>
<div class="ulist"><ul>
<li>
<p>
bool
</p>
</li>
<li>
<p>
char
</p>
</li>
<li>
<p>
unsigned char
</p>
</li>
<li>
<p>
int
</p>
</li>
<li>
<p>
unsigned int
</p>
</li>
<li>
<p>
long
</p>
</li>
<li>
<p>
unsigned long
</p>
</li>
<li>
<p>
long long
</p>
</li>
<li>
<p>
unsigned long long
</p>
</li>
<li>
<p>
double
</p>
</li>
<li>
<p>
float
</p>
</li>
<li>
<p>
std::string
</p>
</li>
<li>
<p>
std::vector&lt;T&gt;
</p>
</li>
<li>
<p>
std::pair&lt;T1, T2&gt;
</p>
</li>
<li>
<p>
void* (Only numerical value of pointer is packed/unpacked)
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_arguments_of_generated_programs">Arguments of generated programs</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_release_mode">Release mode</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
-p <strong>NAME=VALUE</strong> 
</dt>
<dd>
<p>
Set the project parameter <strong>NAME</strong>
</p>
</dd>
<dt class="hdlist1">
-r <strong>N</strong> 
</dt>
<dd>
<p>
Set the number of processes
    (only in threads version;
     in MPI version is done through the parameter of <em>mpirun</em>)
</p>
</dd>
<dt class="hdlist1">
-h --help 
</dt>
<dd>
<p>
Print the description of project parameters
</p>
</dd>
<dt class="hdlist1">
-s <strong>PORT</strong> 
</dt>
<dd>
<p>
The application listens on defined <strong>PORT</strong>. <strong>PORT</strong> can be <em>auto</em>,
    then application chooses some free port and print it on stdout as
    the first line.
</p>
</dd>
<dt class="hdlist1">
-b 
</dt>
<dd>
<p>
Block the application immediately after its initialization and
      wait for the first connection via port defined by -s argument.
</p>
</dd>
<dt class="hdlist1">
-S 
</dt>
<dd>
<p>
Sequential mode. The application runs sequentially independently on
     number of processes or threads.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_trace_mode">Trace mode</h3>
<div class="paragraph"><p>All arguments from <em>release mode</em> are allowed.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
-T <strong>SIZE</strong> 
</dt>
<dd>
<p>
Enables tracelogging with an in-memory buffer of <strong>SIZE</strong> bytes for
    each process. The following suffixes can be used for in <strong>SIZE</strong>: K, M or G.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_simrun_mode">Simrun mode</h3>
<div class="paragraph"><p>All arguments from <em>trace mode</em> are allowed.</p></div>
</div>
<div class="sect2">
<h3 id="_statespace_mode">Statespace mode</h3>
<div class="paragraph"><p>Arguments <em>-p</em>, <em>-h</em>, <em>-r</em> from <em>release mode</em> are supported.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
-Vdeadlock 
</dt>
<dd>
<p>
Deadlock detection is performed
</p>
</dd>
<dt class="hdlist1">
-Vdisable-por 
</dt>
<dd>
<p>
Disable Partial-Order-Reduction method
</p>
</dd>
<dt class="hdlist1">
-Vdot 
</dt>
<dd>
<p>
The graph of the statespace is saved as <em>statespace.dot</em>
</p>
</dd>
<dt class="hdlist1">
-Vcycle 
</dt>
<dd>
<p>
Detection of a cyclic computation is performed
</p>
</dd>
<dt class="hdlist1">
-Vfmarking 
</dt>
<dd>
<p>
Uniqueness of final markings
</p>
</dd>
<dt class="hdlist1">
-Vsilent 
</dt>
<dd>
<p>
Program will not write information messages about progress of the statespace analysis
</p>
</dd>
<dt class="hdlist1">
-Vtchv 
</dt>
<dd>
<p>
Uniqueness of characteristic transition vectors
</p>
</dd>
<dt class="hdlist1">
-Vwrite-statespace 
</dt>
<dd>
<p>
The graph of the statespace is saved into the resulting kreport
</p>
</dd>
</dl></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated 2014-08-07 11:24:41 CEST
</div>
</div>
</body>
</html>
